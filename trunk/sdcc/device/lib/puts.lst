                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : FreeWare ANSI-C Compiler
                              3 ; Version 2.1.9Ga Sun Jan 16 17:31:39 2000
                              4 
                              5 ;--------------------------------------------------------
                              6 	.module puts
                              7 ;--------------------------------------------------------
                              8 ; publics variables in this module
                              9 ;--------------------------------------------------------
                             10 	.globl _puts
                             11 ;--------------------------------------------------------
                             12 ; special function registers
                             13 ;--------------------------------------------------------
                             14 ;--------------------------------------------------------
                             15 ; special function bits 
                             16 ;--------------------------------------------------------
                             17 ;--------------------------------------------------------
                             18 ; internal ram data
                             19 ;--------------------------------------------------------
                             20 	.area	DSEG    (DATA)
                             21 ;--------------------------------------------------------
                             22 ; overlayable items in internal ram 
                             23 ;--------------------------------------------------------
                             24 	.area	OSEG	(OVR,DATA)
                             25 ;--------------------------------------------------------
                             26 ; indirectly addressable internal ram data
                             27 ;--------------------------------------------------------
                             28 	.area	ISEG    (DATA)
                             29 ;--------------------------------------------------------
                             30 ; bit data
                             31 ;--------------------------------------------------------
                             32 	.area	BSEG    (BIT)
                             33 ;--------------------------------------------------------
                             34 ; external ram data
                             35 ;--------------------------------------------------------
                             36 	.area	XSEG    (XDATA)
   0000                      37 _puts_s_1_1:
   0000                      38 	.ds	0x0003
                             39 ;--------------------------------------------------------
                             40 ; global & static initialisations
                             41 ;--------------------------------------------------------
                             42 	.area GSINIT (CODE)
                             43 ;--------------------------------------------------------
                             44 ; code
                             45 ;--------------------------------------------------------
                             46 	.area CSEG (CODE)
                    0000     47 	G$puts$0$0 ==.
                             48 ;	puts.c 27
                             49 ;	-----------------------------------------
                             50 ;	 function puts
                             51 ;	-----------------------------------------
   0000                      52 _puts:
                    0002     53 	ar2 = 0x02
                    0003     54 	ar3 = 0x03
                    0004     55 	ar4 = 0x04
                    0005     56 	ar5 = 0x05
                    0006     57 	ar6 = 0x06
                    0007     58 	ar7 = 0x07
                    0000     59 	ar0 = 0x00
                    0001     60 	ar1 = 0x01
                             61 ;	puts.c 35
   0000 C0 F0                62 	push	b
   0002 C0 83                63 	push	dph
   0004 C0 82                64 	push	dpl
   0006 90s00r00             65 	mov	dptr,#_puts_s_1_1
   0009 D0 E0                66 	pop	acc
   000B F0                   67 	movx	@dptr,a
   000C D0 E0                68 	pop	acc
   000E A3                   69 	inc	dptr
   000F F0                   70 	movx	@dptr,a
   0010 D0 E0                71 	pop	acc
   0012 A3                   72 	inc	dptr
   0013 F0                   73 	movx	@dptr,a
                             74 ;	puts.c 30
   0014 90s00r00             75 	mov	dptr,#_puts_s_1_1
   0017 E0                   76 	movx	a,@dptr
   0018 FA                   77 	mov	r2,a
   0019 A3                   78 	inc	dptr
   001A E0                   79 	movx	a,@dptr
   001B FB                   80 	mov	r3,a
   001C A3                   81 	inc	dptr
   001D E0                   82 	movx	a,@dptr
   001E FC                   83 	mov	r4,a
   001F 7D 00                84 	mov	r5,#0x00
   0021 7E 00                85 	mov	r6,#0x00
   0023                      86 00101$:
   0023 8A 82                87 	mov	dpl,r2
   0025 8B 83                88 	mov	dph,r3
   0027 8C F0                89 	mov	b,r4
   0029 12s00r00             90 	lcall	__gptrget
   002C FF                   91 	mov	r7,a
   002D 90s00r00             92 	mov	dptr,#_puts_s_1_1
   0030 EA                   93 	mov	a,r2
   0031 F0                   94 	movx	@dptr,a
   0032 A3                   95 	inc	dptr
   0033 EB                   96 	mov	a,r3
   0034 F0                   97 	movx	@dptr,a
   0035 A3                   98 	inc	dptr
   0036 EC                   99 	mov	a,r4
   0037 F0                  100 	movx	@dptr,a
   0038 EF                  101 	mov	a,r7
                            102 ; Peephole 110   removed ljmp by inverse jump logic
   0039 60 25               103 	jz  00103$
   003B                     104 00108$:
                            105 ;	puts.c 31
   003B 0A                  106 	inc	r2
   003C BA 00 01            107 	cjne	r2,#0x00,00109$
   003F 0B                  108 	inc	r3
   0040                     109 00109$:
   0040 C0 02               110 	push	ar2
   0042 C0 03               111 	push	ar3
   0044 C0 04               112 	push	ar4
   0046 C0 05               113 	push	ar5
   0048 C0 06               114 	push	ar6
   004A 8F 82               115 	mov	dpl,r7
   004C 12s00r00            116 	lcall	_putchar
   004F D0 06               117 	pop	ar6
   0051 D0 05               118 	pop	ar5
   0053 D0 04               119 	pop	ar4
   0055 D0 03               120 	pop	ar3
   0057 D0 02               121 	pop	ar2
                            122 ;	puts.c 32
   0059 0D                  123 	inc	r5
   005A BD 00 01            124 	cjne	r5,#0x00,00110$
   005D 0E                  125 	inc	r6
   005E                     126 00110$:
                            127 ; Peephole 132   changed ljmp to sjmp
   005E 80 C3               128 	sjmp 00101$
   0060                     129 00103$:
                            130 ;	puts.c 34
   0060 C0 05               131 	push	ar5
   0062 C0 06               132 	push	ar6
   0064 75 82 0A            133 	mov	dpl,#0x0a
   0067 12s00r00            134 	lcall	_putchar
   006A D0 06               135 	pop	ar6
   006C D0 05               136 	pop	ar5
                            137 ;	puts.c 35
   006E 0D                  138 	inc	r5
   006F BD 00 01            139 	cjne	r5,#0x00,00111$
   0072 0E                  140 	inc	r6
   0073                     141 00111$:
   0073 8D 82               142 	mov	dpl,r5
   0075 8E 83               143 	mov	dph,r6
   0077                     144 00104$:
                    0077    145 	C$puts.c$36$1$1 ==.
                    0077    146 	XG$puts$0$0 ==.
   0077 22                  147 	ret
                            148 	.area	CSEG    (CODE)
