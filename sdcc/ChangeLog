2001-09-16    <johan@FRIJA>

	* support/Util/SDCCerr.c: fixed up the error/warning/info database. I only changed the E_ W_ I_ prefix to what SDCCerr.c says it is.

2001-09-15    <johan@FRIJA>

	* src/mcs51/ralloc.c: (findAssignToSym): fixed bug #460662 part 1
	* src/ds390/ralloc.c (findAssignToSym): fixed bug #460662 part 1

2001-09-11    <johan@FRIJA>

	* src/SDCCval.c (valDiv Mod Minus Plus Shift): keep litteral expressions as small as possible (bug #460010)

2001-09-10  Michael Hope  <michaelh@juju.net.nz>

	* support/regression/tests/bug-460444.c: Added test case.

	* src/z80/gen.c (genOr): bug 460444: if (a ^ lit) was broken for &, |, and ^.
	(genCast): Added justification for all of the asserts.

2001-09-10  Bernhard Held <bernhard@bernhardheld.de>

	* support/regression/support.c: _xdata replaced by xdata

	* support/regression/spec.mk: removed _generic

2001-09-09  Michael Hope  <michaelh@juju.net.nz>

	* src/pic/ralloc.c (debugLogRegType): Removed some old types to get it to compile.

	* src/z80/gen.c (shiftR2Left2Result): Improved the case when v = v >> n for small values of n to use less code space and time.
	(genrshTwo): Fixed v = v >> n where v is a negative int and n is > 8: bug 460010.

	* src/z80/peeph.def: Added a rule to optimise shift then compare.

	* support/regression/tests/bug-460000.c (testShiftByParam): Added test case.

	* support/regression/tests/bug-460010.c: Added test case.

	* support/regression/Makefile (test-host): Removed a silly 'clean' target when testing against gcc.

2001-09-09  Bernhard Held <bernhard@bernhardheld.de>

	* support/regression/Makefile: inter-port-clean adjusted for mcs51

	* support/regression/testfwk.c: removed workaround for bug #436344

	* support/regression/tests/bp.c: use less memory with mcs51

	* support/regression/tests/bug-441448.c: use less memory

	* support/regression/tests/ports/mcs51/spec.mk: cleanup, use --stack-after-data

	* support/regression/collate-results.py: typo

2001-09-08  Michael Hope  <michaelh@juju.net.nz>

	* support/regression/tests/fetchoverlap.c: Added new test case.

	* support/regression/tests/bp.c: Added new test case.

	* support/regression/tests/bug-448984.c: Added new test case.

	* support/regression/tests/pow2shifts.c: Added new test case.

	* src/z80/gen.c: Turned off the noise it normally generates for the release.
	(genlshTwo): Fixed right shift for count > 8.

	* src/z80/ralloc.c: Disabled most of the ACC packing rules as they weren't getting hit and weren't at all safe.

2001-09-08    <johan@FRIJA>

	* src/SDCCicode.c (geniCodeCall): a CPOINTER can be used as a function

2001-09-07    <johan@FRIJA>

	* src/SDCCicode.c (newiCodeCondition): fixed bug #456235 (1.77)

	* src/SDCCglue.c (emitRegularMap): only delete a symbol when it is a symbol

2001-09-06    <johan@FRIJA>

	* src/SDCC.y: this could be a fix for bug #458744 (1.37)
	* bernhard noted me at this: "() equals to (void)" (1.38)

2001-09-05    <johan@FRIJA>

	* src/SDCCglue.c (emitRegularMap): a fix for bug #458099/2

2001-09-04    <johan@FRIJA>

	* src/SDCCsymt.c (checkSClass): a fix for bug #458099/1


2001-09-04  Paul Stoffregen  <paul@pjrc.com>

	* pragma noinduction broke memcpy on mcs51 large model.  Moved it inside z80 optimization

2001-09-03  Michael Hope  <michaelh@juju.net.nz>

	* link/z80/aslink.h: Fixed path for PATH_MAX

2001-09-02  Michael Hope  <michaelh@juju.net.nz>

	* src/z80/gen.c (fetchLitPair): Changed so that it properly caches direct space references.

	* support/regression/tests/addsub.c: Added cases to cover all the +, - combinations.

	* support/regression/tests/uminus.c: Added a test for the unary minus operator.

	* src/z80/gen.c (genUminus): Fixed add, sub, and uminus on the gbz80 port for longs.  Had to shift some functions about to do it.

2001-09-01  Michael Hope  <michaelh@juju.net.nz>

	* src/z80/gen.c: Fixed up generator to pass the regresion tests, specifically fixing loads for longs, genCmp, and turned on the map file.
	(genCmp): Fixed up genCmp for the GB with longs.

	* device/lib/gbz80/Makefile: Fixed up all the libraries to pass the regression tests.

	* support/regression/ports/host/spec.mk: Updated to compile with the new type specifiers.

	* device/lib/Makefile.in (Z80SOURCES): Removed old _mululong, _mulslong, and unneeded _mulint.

	* device/lib/_mullong.c (_mulslong): Changed to actually return a value :)

2001-08-30  Paul Stoffregen  <paul@pjrc.com>

	* added peepholes 223 to 231 to mcs51 port.  These improve code when using large model.

2001-08-30  Michael Hope  <michaelh@juju.net.nz>

	* device/lib/gbz80/crt0.s (init): Fixed up support for the gbz80 such that it will at least run (and fail badly) the regression tests.

	* src/z80/gen.c (genPlus): Changed bad long add for gb to a fall through.

2001-08-29  Michael Hope  <michaelh@juju.net.nz>

	* link/z80/aslink.h: Fixed long file name support.  Is now based off PATH_MAX instead of a constant.

	* src/z80/gen.c: Fixed add and sub for the case where left or right are in static space.

2001-08-30 Bernhard Held   <bernhard@bernhardheld.de>

  * sim/ucsim/configure:    little improvement of Cygwin-detection	
  * sim/ucsim/configure.in: little improvement of Cygwin-detection	
  * sim/ucsim/cmd.src/newcmdcl.h: include <sys/types.h> to define fd_set automated build
  * support/regression/tests/bug-221100.c: small changes for mcs51
  * support/regression/tests/bug-221168.c: small changes for mcs51
  * support/regression/tests/bug-227710.c: small changes for mcs51
  * support/regression/tests/staticinit.c: small changes for mcs51
  * as/mcs51/aslink.h: accept everything as symbol name in rel-files, bug fix ID 452601
  * as/mcs51/lklex.c:  accept everything as symbol name in rel-files, bug fix ID 452601
  * as/mcs51/lksym.c:  accept everything as symbol name in rel-files, bug fix ID 452601
