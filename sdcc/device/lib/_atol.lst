                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : FreeWare ANSI-C Compiler
                              3 ; Version 2.1.9Ga Sun Jan 16 17:31:22 2000
                              4 
                              5 ;--------------------------------------------------------
                              6 	.module _atol
                              7 ;--------------------------------------------------------
                              8 ; publics variables in this module
                              9 ;--------------------------------------------------------
                             10 	.globl _atol
                             11 ;--------------------------------------------------------
                             12 ; special function registers
                             13 ;--------------------------------------------------------
                             14 ;--------------------------------------------------------
                             15 ; special function bits 
                             16 ;--------------------------------------------------------
                             17 ;--------------------------------------------------------
                             18 ; internal ram data
                             19 ;--------------------------------------------------------
                             20 	.area	DSEG    (DATA)
   0000                      21 _atol_sloc0_1_0:
   0000                      22 	.ds	0x0004
                             23 ;--------------------------------------------------------
                             24 ; overlayable items in internal ram 
                             25 ;--------------------------------------------------------
                             26 	.area	OSEG	(OVR,DATA)
                             27 ;--------------------------------------------------------
                             28 ; indirectly addressable internal ram data
                             29 ;--------------------------------------------------------
                             30 	.area	ISEG    (DATA)
                             31 ;--------------------------------------------------------
                             32 ; bit data
                             33 ;--------------------------------------------------------
                             34 	.area	BSEG    (BIT)
                             35 ;--------------------------------------------------------
                             36 ; external ram data
                             37 ;--------------------------------------------------------
                             38 	.area	XSEG    (XDATA)
   0000                      39 _atol_s_1_1:
   0000                      40 	.ds	0x0003
   0003                      41 _atol_rv_1_1:
   0003                      42 	.ds	0x0004
                             43 ;--------------------------------------------------------
                             44 ; global & static initialisations
                             45 ;--------------------------------------------------------
                             46 	.area GSINIT (CODE)
                             47 ;--------------------------------------------------------
                             48 ; code
                             49 ;--------------------------------------------------------
                             50 	.area CSEG (CODE)
                    0000     51 	G$atol$0$0 ==.
                             52 ;	_atol.c 25
                             53 ;	-----------------------------------------
                             54 ;	 function atol
                             55 ;	-----------------------------------------
   0000                      56 _atol:
                    0002     57 	ar2 = 0x02
                    0003     58 	ar3 = 0x03
                    0004     59 	ar4 = 0x04
                    0005     60 	ar5 = 0x05
                    0006     61 	ar6 = 0x06
                    0007     62 	ar7 = 0x07
                    0000     63 	ar0 = 0x00
                    0001     64 	ar1 = 0x01
                             65 ;	_atol.c 0
   0000 C0 F0                66 	push	b
   0002 C0 83                67 	push	dph
   0004 C0 82                68 	push	dpl
   0006 90s00r00             69 	mov	dptr,#_atol_s_1_1
   0009 D0 E0                70 	pop	acc
   000B F0                   71 	movx	@dptr,a
   000C D0 E0                72 	pop	acc
   000E A3                   73 	inc	dptr
   000F F0                   74 	movx	@dptr,a
   0010 D0 E0                75 	pop	acc
   0012 A3                   76 	inc	dptr
   0013 F0                   77 	movx	@dptr,a
                             78 ;	_atol.c 27
   0014 90s00r03             79 	mov	dptr,#_atol_rv_1_1
   0017 E4                   80 	clr	a
   0018 A3                   81 	inc	dptr
   0019 A3                   82 	inc	dptr
   001A A3                   83 	inc	dptr
   001B F0                   84 	movx	@dptr,a
   001C 12s00r00             85 	lcall	__decdptr
   001F F0                   86 	movx	@dptr,a
   0020 12s00r00             87 	lcall	__decdptr
   0023 F0                   88 	movx	@dptr,a
   0024 12s00r00             89 	lcall	__decdptr
   0027 F0                   90 	movx	@dptr,a
                             91 ;	_atol.c 31
   0028 90s00r00             92 	mov	dptr,#_atol_s_1_1
   002B E0                   93 	movx	a,@dptr
   002C FA                   94 	mov	r2,a
   002D A3                   95 	inc	dptr
   002E E0                   96 	movx	a,@dptr
   002F FB                   97 	mov	r3,a
   0030 A3                   98 	inc	dptr
   0031 E0                   99 	movx	a,@dptr
   0032 FC                  100 	mov	r4,a
   0033                     101 00107$:
   0033 8A 82               102 	mov	dpl,r2
   0035 8B 83               103 	mov	dph,r3
   0037 8C F0               104 	mov	b,r4
   0039 12s00r00            105 	lcall	__gptrget
                            106 ; Peephole 105   removed redundant mov
   003C FD                  107 	mov  r5,a
                            108 ; Peephole 110   removed ljmp by inverse jump logic
   003D 60 30               109 	jz  00109$
   003F                     110 00133$:
                            111 ;	_atol.c 32
   003F C3                  112 	clr	c
                            113 ; Peephole 159   avoided xrl during execution
   0040 74 B9               114 	mov  a,#(0x39 ^ 0x80)
   0042 8D F0               115 	mov	b,r5
   0044 63 F0 80            116 	xrl	b,#0x80
   0047 95 F0               117 	subb	a,b
                            118 ; Peephole 132   changed ljmp to sjmp
                            119 ; Peephole 160   removed sjmp by inverse jump logic
   0049 40 08               120 	jc   00102$
   004B                     121 00134$:
   004B C3                  122 	clr	c
   004C ED                  123 	mov	a,r5
   004D 64 80               124 	xrl	a,#0x80
   004F 94 B0               125 	subb	a,#0xb0
                            126 ; Peephole 108   removed ljmp by inverse jump logic
   0051 50 1C               127 	jnc  00109$
   0053                     128 00135$:
                            129 ;	_atol.c 33
   0053                     130 00102$:
                            131 ;	_atol.c 34
   0053 BD 2D 02            132 	cjne	r5,#0x2d,00136$
                            133 ; Peephole 132   changed ljmp to sjmp
   0056 80 17               134 	sjmp 00109$
   0058                     135 00136$:
   0058 BD 2B 02            136 	cjne	r5,#0x2b,00137$
                            137 ; Peephole 132   changed ljmp to sjmp
   005B 80 12               138 	sjmp 00109$
   005D                     139 00137$:
                            140 ;	_atol.c 36
   005D 0A                  141 	inc	r2
   005E BA 00 01            142 	cjne	r2,#0x00,00138$
   0061 0B                  143 	inc	r3
   0062                     144 00138$:
   0062 90s00r00            145 	mov	dptr,#_atol_s_1_1
   0065 EA                  146 	mov	a,r2
   0066 F0                  147 	movx	@dptr,a
   0067 A3                  148 	inc	dptr
   0068 EB                  149 	mov	a,r3
   0069 F0                  150 	movx	@dptr,a
   006A A3                  151 	inc	dptr
   006B EC                  152 	mov	a,r4
   006C F0                  153 	movx	@dptr,a
                            154 ; Peephole 132   changed ljmp to sjmp
   006D 80 C4               155 	sjmp 00107$
   006F                     156 00109$:
                            157 ;	_atol.c 39
   006F 90s00r00            158 	mov	dptr,#_atol_s_1_1
   0072 EA                  159 	mov	a,r2
   0073 F0                  160 	movx	@dptr,a
   0074 A3                  161 	inc	dptr
   0075 EB                  162 	mov	a,r3
   0076 F0                  163 	movx	@dptr,a
   0077 A3                  164 	inc	dptr
   0078 EC                  165 	mov	a,r4
   0079 F0                  166 	movx	@dptr,a
   007A 8A 82               167 	mov	dpl,r2
   007C 8B 83               168 	mov	dph,r3
   007E 8C F0               169 	mov	b,r4
   0080 12s00r00            170 	lcall	__gptrget
   0083 FD                  171 	mov	r5,a
   0084 BD 2D 04            172 	cjne	r5,#0x2d,00139$
   0087 74 01               173 	mov	a,#0x01
   0089 80 01               174 	sjmp	00140$
   008B                     175 00139$:
   008B E4                  176 	clr	a
   008C                     177 00140$:
                            178 ;	_atol.c 40
                            179 ; Peephole 105   removed redundant mov
   008C FE                  180 	mov  r6,a
                            181 ; Peephole 109   removed ljmp by inverse jump logic
   008D 70 03               182 	jnz  00110$
   008F                     183 00141$:
                            184 ; Peephole 132   changed ljmp to sjmp
                            185 ; Peephole 199   optimized misc jump sequence
   008F BD 2B 0E            186 	cjne r5,#0x2b,00131$
                            187 ; Peephole 201   removed redundant sjmp
   0092                     188 00142$:
   0092                     189 00143$:
   0092                     190 00110$:
   0092 90s00r00            191 	mov	dptr,#_atol_s_1_1
   0095 74 01               192 	mov	a,#0x01
   0097 2A                  193 	add	a,r2
   0098 F0                  194 	movx	@dptr,a
                            195 ; Peephole 180   changed mov to clr
   0099 E4                  196 	clr  a
   009A 3B                  197 	addc	a,r3
   009B A3                  198 	inc	dptr
   009C F0                  199 	movx	@dptr,a
   009D A3                  200 	inc	dptr
   009E EC                  201 	mov	a,r4
   009F F0                  202 	movx	@dptr,a
                            203 ;	_atol.c 42
   00A0                     204 00131$:
   00A0 90s00r00            205 	mov	dptr,#_atol_s_1_1
   00A3 E0                  206 	movx	a,@dptr
   00A4 FA                  207 	mov	r2,a
   00A5 A3                  208 	inc	dptr
   00A6 E0                  209 	movx	a,@dptr
   00A7 FB                  210 	mov	r3,a
   00A8 A3                  211 	inc	dptr
   00A9 E0                  212 	movx	a,@dptr
   00AA FC                  213 	mov	r4,a
   00AB                     214 00115$:
   00AB 8A 82               215 	mov	dpl,r2
   00AD 8B 83               216 	mov	dph,r3
   00AF 8C F0               217 	mov	b,r4
   00B1 12s00r00            218 	lcall	__gptrget
                            219 ; Peephole 105   removed redundant mov
   00B4 FD                  220 	mov  r5,a
   00B5 70 03               221 	jnz	00144$
   00B7 02s01r5E            222 	ljmp	00117$
   00BA                     223 00144$:
   00BA C3                  224 	clr	c
   00BB ED                  225 	mov	a,r5
   00BC 64 80               226 	xrl	a,#0x80
   00BE 94 B0               227 	subb	a,#0xb0
   00C0 50 03               228 	jnc	00145$
   00C2 02s01r5E            229 	ljmp	00117$
   00C5                     230 00145$:
   00C5 C3                  231 	clr	c
                            232 ; Peephole 159   avoided xrl during execution
   00C6 74 B9               233 	mov  a,#(0x39 ^ 0x80)
   00C8 8D F0               234 	mov	b,r5
   00CA 63 F0 80            235 	xrl	b,#0x80
   00CD 95 F0               236 	subb	a,b
   00CF 50 03               237 	jnc	00146$
   00D1 02s01r5E            238 	ljmp	00117$
   00D4                     239 00146$:
                            240 ;	_atol.c 43
   00D4 C0 06               241 	push	ar6
   00D6 90s00r03            242 	mov	dptr,#_atol_rv_1_1
   00D9 E0                  243 	movx	a,@dptr
   00DA FF                  244 	mov	r7,a
   00DB A3                  245 	inc	dptr
   00DC E0                  246 	movx	a,@dptr
   00DD F8                  247 	mov	r0,a
   00DE A3                  248 	inc	dptr
   00DF E0                  249 	movx	a,@dptr
   00E0 F9                  250 	mov	r1,a
   00E1 A3                  251 	inc	dptr
   00E2 E0                  252 	movx	a,@dptr
   00E3 FE                  253 	mov	r6,a
   00E4 90s00r00            254 	mov	dptr,#__mulslong_PARM_2
   00E7 E4                  255 	clr	a
   00E8 A3                  256 	inc	dptr
   00E9 A3                  257 	inc	dptr
   00EA A3                  258 	inc	dptr
   00EB F0                  259 	movx	@dptr,a
   00EC 12s00r00            260 	lcall	__decdptr
   00EF F0                  261 	movx	@dptr,a
   00F0 12s00r00            262 	lcall	__decdptr
   00F3 F0                  263 	movx	@dptr,a
   00F4 12s00r00            264 	lcall	__decdptr
   00F7 74 0A               265 	mov	a,#0x0a
   00F9 F0                  266 	movx	@dptr,a
   00FA C0 02               267 	push	ar2
   00FC C0 03               268 	push	ar3
   00FE C0 04               269 	push	ar4
   0100 C0 05               270 	push	ar5
   0102 C0 06               271 	push	ar6
   0104 8F 82               272 	mov	dpl,r7
   0106 88 83               273 	mov	dph,r0
   0108 89 F0               274 	mov	b,r1
   010A EE                  275 	mov	a,r6
   010B 12s00r00            276 	lcall	__mulslong
   010E 85 82*00            277 	mov	_atol_sloc0_1_0,dpl
   0111 85 83*01            278 	mov	(_atol_sloc0_1_0 + 1),dph
   0114 85 F0*02            279 	mov	(_atol_sloc0_1_0 + 2),b
   0117 F5*03               280 	mov	(_atol_sloc0_1_0 + 3),a
   0119 D0 06               281 	pop	ar6
   011B D0 05               282 	pop	ar5
   011D D0 04               283 	pop	ar4
   011F D0 03               284 	pop	ar3
   0121 D0 02               285 	pop	ar2
   0123 ED                  286 	mov	a,r5
   0124 24 D0               287 	add	a,#0xd0
   0126 FD                  288 	mov	r5,a
                            289 ; Peephole 180   changed mov to clr
   0127 E4                  290 	clr  a
   0128 34 FF               291 	addc	a,#0xff
   012A FE                  292 	mov	r6,a
                            293 ; Peephole 180   changed mov to clr
   012B E4                  294 	clr  a
   012C 34 FF               295 	addc	a,#0xff
   012E FF                  296 	mov	r7,a
                            297 ; Peephole 180   changed mov to clr
   012F E4                  298 	clr  a
   0130 34 FF               299 	addc	a,#0xff
   0132 F8                  300 	mov	r0,a
   0133 90s00r03            301 	mov	dptr,#_atol_rv_1_1
   0136 ED                  302 	mov	a,r5
   0137 25*00               303 	add	a,_atol_sloc0_1_0
   0139 F0                  304 	movx	@dptr,a
   013A EE                  305 	mov	a,r6
   013B 35*01               306 	addc	a,(_atol_sloc0_1_0 + 1)
   013D A3                  307 	inc	dptr
   013E F0                  308 	movx	@dptr,a
   013F EF                  309 	mov	a,r7
   0140 35*02               310 	addc	a,(_atol_sloc0_1_0 + 2)
   0142 A3                  311 	inc	dptr
   0143 F0                  312 	movx	@dptr,a
   0144 E8                  313 	mov	a,r0
   0145 35*03               314 	addc	a,(_atol_sloc0_1_0 + 3)
   0147 A3                  315 	inc	dptr
   0148 F0                  316 	movx	@dptr,a
                            317 ;	_atol.c 44
   0149 0A                  318 	inc	r2
   014A BA 00 01            319 	cjne	r2,#0x00,00147$
   014D 0B                  320 	inc	r3
   014E                     321 00147$:
   014E 90s00r00            322 	mov	dptr,#_atol_s_1_1
   0151 EA                  323 	mov	a,r2
   0152 F0                  324 	movx	@dptr,a
   0153 A3                  325 	inc	dptr
   0154 EB                  326 	mov	a,r3
   0155 F0                  327 	movx	@dptr,a
   0156 A3                  328 	inc	dptr
   0157 EC                  329 	mov	a,r4
   0158 F0                  330 	movx	@dptr,a
   0159 D0 06               331 	pop	ar6
   015B 02s00rAB            332 	ljmp	00115$
   015E                     333 00117$:
                            334 ;	_atol.c 47
   015E 90s00r00            335 	mov	dptr,#_atol_s_1_1
   0161 EA                  336 	mov	a,r2
   0162 F0                  337 	movx	@dptr,a
   0163 A3                  338 	inc	dptr
   0164 EB                  339 	mov	a,r3
   0165 F0                  340 	movx	@dptr,a
   0166 A3                  341 	inc	dptr
   0167 EC                  342 	mov	a,r4
   0168 F0                  343 	movx	@dptr,a
   0169 EE                  344 	mov	a,r6
                            345 ; Peephole 110   removed ljmp by inverse jump logic
   016A 60 1D               346 	jz  00120$
   016C                     347 00148$:
   016C 90s00r03            348 	mov	dptr,#_atol_rv_1_1
   016F E0                  349 	movx	a,@dptr
   0170 FA                  350 	mov	r2,a
   0171 A3                  351 	inc	dptr
   0172 E0                  352 	movx	a,@dptr
   0173 FB                  353 	mov	r3,a
   0174 A3                  354 	inc	dptr
   0175 E0                  355 	movx	a,@dptr
   0176 FC                  356 	mov	r4,a
   0177 A3                  357 	inc	dptr
   0178 E0                  358 	movx	a,@dptr
   0179 FD                  359 	mov	r5,a
   017A C3                  360 	clr	c
   017B E4                  361 	clr	a
   017C 9A                  362 	subb	a,r2
   017D FA                  363 	mov	r2,a
   017E E4                  364 	clr	a
   017F 9B                  365 	subb	a,r3
   0180 FB                  366 	mov	r3,a
   0181 E4                  367 	clr	a
   0182 9C                  368 	subb	a,r4
   0183 FC                  369 	mov	r4,a
   0184 E4                  370 	clr	a
   0185 9D                  371 	subb	a,r5
   0186 FD                  372 	mov	r5,a
                            373 ; Peephole 132   changed ljmp to sjmp
   0187 80 0E               374 	sjmp 00121$
   0189                     375 00120$:
   0189 90s00r03            376 	mov	dptr,#_atol_rv_1_1
   018C E0                  377 	movx	a,@dptr
   018D FA                  378 	mov	r2,a
   018E A3                  379 	inc	dptr
   018F E0                  380 	movx	a,@dptr
   0190 FB                  381 	mov	r3,a
   0191 A3                  382 	inc	dptr
   0192 E0                  383 	movx	a,@dptr
   0193 FC                  384 	mov	r4,a
   0194 A3                  385 	inc	dptr
   0195 E0                  386 	movx	a,@dptr
   0196 FD                  387 	mov	r5,a
   0197                     388 00121$:
   0197 8A 82               389 	mov	dpl,r2
   0199 8B 83               390 	mov	dph,r3
   019B 8C F0               391 	mov	b,r4
   019D ED                  392 	mov	a,r5
   019E                     393 00118$:
                    019E    394 	C$_atol.c$48$1$1 ==.
                    019E    395 	XG$atol$0$0 ==.
   019E 22                  396 	ret
                            397 	.area	CSEG    (CODE)
