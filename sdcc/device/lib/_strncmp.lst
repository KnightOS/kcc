                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : FreeWare ANSI-C Compiler
                              3 ; Version 2.1.9Ga Sun Jan 16 17:31:33 2000
                              4 
                              5 ;--------------------------------------------------------
                              6 	.module _strncmp
                              7 ;--------------------------------------------------------
                              8 ; publics variables in this module
                              9 ;--------------------------------------------------------
                             10 	.globl _strncmp_PARM_3
                             11 	.globl _strncmp_PARM_2
                             12 	.globl _strncmp
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ; special function bits 
                             18 ;--------------------------------------------------------
                             19 ;--------------------------------------------------------
                             20 ; internal ram data
                             21 ;--------------------------------------------------------
                             22 	.area	DSEG    (DATA)
                             23 ;--------------------------------------------------------
                             24 ; overlayable items in internal ram 
                             25 ;--------------------------------------------------------
                             26 	.area	OSEG	(OVR,DATA)
                             27 ;--------------------------------------------------------
                             28 ; indirectly addressable internal ram data
                             29 ;--------------------------------------------------------
                             30 	.area	ISEG    (DATA)
                             31 ;--------------------------------------------------------
                             32 ; bit data
                             33 ;--------------------------------------------------------
                             34 	.area	BSEG    (BIT)
                             35 ;--------------------------------------------------------
                             36 ; external ram data
                             37 ;--------------------------------------------------------
                             38 	.area	XSEG    (XDATA)
   0000                      39 _strncmp_PARM_2:
   0000                      40 	.ds	0x0003
   0003                      41 _strncmp_PARM_3:
   0003                      42 	.ds	0x0002
   0005                      43 _strncmp_first_1_1:
   0005                      44 	.ds	0x0003
                             45 ;--------------------------------------------------------
                             46 ; global & static initialisations
                             47 ;--------------------------------------------------------
                             48 	.area GSINIT (CODE)
                             49 ;--------------------------------------------------------
                             50 ; code
                             51 ;--------------------------------------------------------
                             52 	.area CSEG (CODE)
                    0000     53 	G$strncmp$0$0 ==.
                             54 ;	_strncmp.c 27
                             55 ;	-----------------------------------------
                             56 ;	 function strncmp
                             57 ;	-----------------------------------------
   0000                      58 _strncmp:
                    0002     59 	ar2 = 0x02
                    0003     60 	ar3 = 0x03
                    0004     61 	ar4 = 0x04
                    0005     62 	ar5 = 0x05
                    0006     63 	ar6 = 0x06
                    0007     64 	ar7 = 0x07
                    0000     65 	ar0 = 0x00
                    0001     66 	ar1 = 0x01
                             67 ;	_strncmp.c 0
   0000 C0 F0                68 	push	b
   0002 C0 83                69 	push	dph
   0004 C0 82                70 	push	dpl
   0006 90s00r05             71 	mov	dptr,#_strncmp_first_1_1
   0009 D0 E0                72 	pop	acc
   000B F0                   73 	movx	@dptr,a
   000C D0 E0                74 	pop	acc
   000E A3                   75 	inc	dptr
   000F F0                   76 	movx	@dptr,a
   0010 D0 E0                77 	pop	acc
   0012 A3                   78 	inc	dptr
   0013 F0                   79 	movx	@dptr,a
                             80 ;	_strncmp.c 33
   0014 90s00r03             81 	mov	dptr,#_strncmp_PARM_3
   0017 E0                   82 	movx	a,@dptr
   0018 FA                   83 	mov	r2,a
   0019 A3                   84 	inc	dptr
   001A E0                   85 	movx	a,@dptr
                             86 ; Peephole 135   removed redundant mov
   001B FB                   87 	mov  r3,a
   001C 4A                   88 	orl  a,r2
                             89 ; Peephole 109   removed ljmp by inverse jump logic
   001D 70 06                90 	jnz  00114$
   001F                      91 00115$:
                             92 ;	_strncmp.c 34
                             93 ; Peephole 181   used 16 bit load of dptr
   001F 90 00 00             94 	mov  dptr,#0x0000
   0022 02s00rAF             95 	ljmp	00108$
                             96 ;	_strncmp.c 36
   0025                      97 00114$:
   0025 90s00r05             98 	mov	dptr,#_strncmp_first_1_1
   0028 E0                   99 	movx	a,@dptr
   0029 FA                  100 	mov	r2,a
   002A A3                  101 	inc	dptr
   002B E0                  102 	movx	a,@dptr
   002C FB                  103 	mov	r3,a
   002D A3                  104 	inc	dptr
   002E E0                  105 	movx	a,@dptr
   002F FC                  106 	mov	r4,a
   0030 90s00r00            107 	mov	dptr,#_strncmp_PARM_2
   0033 E0                  108 	movx	a,@dptr
   0034 FD                  109 	mov	r5,a
   0035 A3                  110 	inc	dptr
   0036 E0                  111 	movx	a,@dptr
   0037 FE                  112 	mov	r6,a
   0038 A3                  113 	inc	dptr
   0039 E0                  114 	movx	a,@dptr
   003A FF                  115 	mov	r7,a
   003B                     116 00105$:
   003B 90s00r03            117 	mov	dptr,#_strncmp_PARM_3
   003E E0                  118 	movx	a,@dptr
   003F 24 FF               119 	add	a,#0xff
   0041 F8                  120 	mov	r0,a
   0042 A3                  121 	inc	dptr
   0043 E0                  122 	movx	a,@dptr
   0044 34 FF               123 	addc	a,#0xff
   0046 F9                  124 	mov	r1,a
   0047 90s00r03            125 	mov	dptr,#_strncmp_PARM_3
   004A E8                  126 	mov	a,r0
   004B F0                  127 	movx	@dptr,a
   004C A3                  128 	inc	dptr
   004D E9                  129 	mov	a,r1
   004E F0                  130 	movx	@dptr,a
   004F E8                  131 	mov	a,r0
   0050 49                  132 	orl	a,r1
                            133 ; Peephole 110   removed ljmp by inverse jump logic
   0051 60 32               134 	jz  00107$
   0053                     135 00116$:
   0053 8A 82               136 	mov	dpl,r2
   0055 8B 83               137 	mov	dph,r3
   0057 8C F0               138 	mov	b,r4
   0059 12s00r00            139 	lcall	__gptrget
                            140 ; Peephole 105   removed redundant mov
   005C F8                  141 	mov  r0,a
                            142 ; Peephole 110   removed ljmp by inverse jump logic
   005D 60 26               143 	jz  00107$
   005F                     144 00117$:
   005F 8D 82               145 	mov	dpl,r5
   0061 8E 83               146 	mov	dph,r6
   0063 8F F0               147 	mov	b,r7
   0065 12s00r00            148 	lcall	__gptrget
   0068 F9                  149 	mov	r1,a
   0069 E8                  150 	mov	a,r0
                            151 ; Peephole 132   changed ljmp to sjmp
                            152 ; Peephole 199   optimized misc jump sequence
   006A B5 01 18            153 	cjne a,ar1,00107$
                            154 ; Peephole 201   removed redundant sjmp
   006D                     155 00118$:
   006D                     156 00119$:
                            157 ;	_strncmp.c 37
   006D 0A                  158 	inc	r2
   006E BA 00 01            159 	cjne	r2,#0x00,00120$
   0071 0B                  160 	inc	r3
   0072                     161 00120$:
   0072 90s00r05            162 	mov	dptr,#_strncmp_first_1_1
   0075 EA                  163 	mov	a,r2
   0076 F0                  164 	movx	@dptr,a
   0077 A3                  165 	inc	dptr
   0078 EB                  166 	mov	a,r3
   0079 F0                  167 	movx	@dptr,a
   007A A3                  168 	inc	dptr
   007B EC                  169 	mov	a,r4
   007C F0                  170 	movx	@dptr,a
                            171 ;	_strncmp.c 38
   007D 0D                  172 	inc	r5
   007E BD 00 01            173 	cjne	r5,#0x00,00121$
   0081 0E                  174 	inc	r6
   0082                     175 00121$:
   0082 02s00r3B            176 	ljmp	00105$
   0085                     177 00107$:
                            178 ;	_strncmp.c 41
   0085 90s00r05            179 	mov	dptr,#_strncmp_first_1_1
   0088 EA                  180 	mov	a,r2
   0089 F0                  181 	movx	@dptr,a
   008A A3                  182 	inc	dptr
   008B EB                  183 	mov	a,r3
   008C F0                  184 	movx	@dptr,a
   008D A3                  185 	inc	dptr
   008E EC                  186 	mov	a,r4
   008F F0                  187 	movx	@dptr,a
   0090 8D 82               188 	mov	dpl,r5
   0092 8E 83               189 	mov	dph,r6
   0094 8F F0               190 	mov	b,r7
   0096 12s00r00            191 	lcall	__gptrget
   0099 FD                  192 	mov	r5,a
   009A 8A 82               193 	mov	dpl,r2
   009C 8B 83               194 	mov	dph,r3
   009E 8C F0               195 	mov	b,r4
   00A0 12s00r00            196 	lcall	__gptrget
                            197 ; Peephole 106   removed redundant mov 
   00A3 FA                  198 	mov  r2,a
   00A4 C3                  199 	clr  c
   00A5 9D                  200 	subb	a,r5
   00A6 FA                  201 	mov	r2,a
                            202 ; Peephole 180   changed mov to clr
   00A7 E4                  203 	clr  a
   00A8 94 00               204 	subb	a,#0x00
   00AA FD                  205 	mov	r5,a
   00AB 8A 82               206 	mov	dpl,r2
   00AD 8D 83               207 	mov	dph,r5
   00AF                     208 00108$:
                    00AF    209 	C$_strncmp.c$42$1$1 ==.
                    00AF    210 	XG$strncmp$0$0 ==.
   00AF 22                  211 	ret
                            212 	.area	CSEG    (CODE)
