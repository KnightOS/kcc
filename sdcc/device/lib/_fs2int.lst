                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : FreeWare ANSI-C Compiler
                              3 ; Version 2.1.9Ga Sun Jan 16 17:31:23 2000
                              4 
                              5 ;--------------------------------------------------------
                              6 	.module _fs2int
                              7 ;--------------------------------------------------------
                              8 ; publics variables in this module
                              9 ;--------------------------------------------------------
                             10 	.globl ___fs2int
                             11 ;--------------------------------------------------------
                             12 ; special function registers
                             13 ;--------------------------------------------------------
                             14 ;--------------------------------------------------------
                             15 ; special function bits 
                             16 ;--------------------------------------------------------
                             17 ;--------------------------------------------------------
                             18 ; internal ram data
                             19 ;--------------------------------------------------------
                             20 	.area	DSEG    (DATA)
   0000                      21 ___fs2int_sloc0_1_0:
   0000                      22 	.ds	0x0004
   0004                      23 ___fs2int_sloc1_1_0:
   0004                      24 	.ds	0x0004
                             25 ;--------------------------------------------------------
                             26 ; overlayable items in internal ram 
                             27 ;--------------------------------------------------------
                             28 	.area	OSEG	(OVR,DATA)
                             29 ;--------------------------------------------------------
                             30 ; indirectly addressable internal ram data
                             31 ;--------------------------------------------------------
                             32 	.area	ISEG    (DATA)
                             33 ;--------------------------------------------------------
                             34 ; bit data
                             35 ;--------------------------------------------------------
                             36 	.area	BSEG    (BIT)
                             37 ;--------------------------------------------------------
                             38 ; external ram data
                             39 ;--------------------------------------------------------
                             40 	.area	XSEG    (XDATA)
   0000                      41 ___fs2int_a1_1_1:
   0000                      42 	.ds	0x0004
   0004                      43 ___fs2int_fl1_1_1:
   0004                      44 	.ds	0x0004
   0008                      45 ___fs2int_exp_1_1:
   0008                      46 	.ds	0x0002
   000A                      47 ___fs2int_l_1_1:
   000A                      48 	.ds	0x0004
                             49 ;--------------------------------------------------------
                             50 ; global & static initialisations
                             51 ;--------------------------------------------------------
                             52 	.area GSINIT (CODE)
                             53 ;--------------------------------------------------------
                             54 ; code
                             55 ;--------------------------------------------------------
                             56 	.area CSEG (CODE)
                    0000     57 	G$__fs2int$0$0 ==.
                             58 ;	_fs2int.c 73
                             59 ;	-----------------------------------------
                             60 ;	 function __fs2int
                             61 ;	-----------------------------------------
   0000                      62 ___fs2int:
                    0002     63 	ar2 = 0x02
                    0003     64 	ar3 = 0x03
                    0004     65 	ar4 = 0x04
                    0005     66 	ar5 = 0x05
                    0006     67 	ar6 = 0x06
                    0007     68 	ar7 = 0x07
                    0000     69 	ar0 = 0x00
                    0001     70 	ar1 = 0x01
                             71 ;	_fs2int.c 0
   0000 C0 E0                72 	push	acc
   0002 C0 F0                73 	push	b
   0004 C0 83                74 	push	dph
   0006 C0 82                75 	push	dpl
   0008 90s00r00             76 	mov	dptr,#___fs2int_a1_1_1
   000B D0 E0                77 	pop	acc
   000D F0                   78 	movx	@dptr,a
   000E D0 E0                79 	pop	acc
   0010 A3                   80 	inc	dptr
   0011 F0                   81 	movx	@dptr,a
   0012 D0 E0                82 	pop	acc
   0014 A3                   83 	inc	dptr
   0015 F0                   84 	movx	@dptr,a
   0016 D0 E0                85 	pop	acc
   0018 A3                   86 	inc	dptr
   0019 F0                   87 	movx	@dptr,a
                             88 ;	_fs2int.c 79
   001A 90s00r00             89 	mov	dptr,#___fs2int_a1_1_1
   001D E0                   90 	movx	a,@dptr
   001E FA                   91 	mov	r2,a
   001F A3                   92 	inc	dptr
   0020 E0                   93 	movx	a,@dptr
   0021 FB                   94 	mov	r3,a
   0022 A3                   95 	inc	dptr
   0023 E0                   96 	movx	a,@dptr
   0024 FC                   97 	mov	r4,a
   0025 A3                   98 	inc	dptr
   0026 E0                   99 	movx	a,@dptr
   0027 FD                  100 	mov	r5,a
   0028 90s00r04            101 	mov	dptr,#(___fs2int_fl1_1_1)
   002B EA                  102 	mov	a,r2
   002C F0                  103 	movx	@dptr,a
   002D A3                  104 	inc	dptr
   002E EB                  105 	mov	a,r3
   002F F0                  106 	movx	@dptr,a
   0030 A3                  107 	inc	dptr
   0031 EC                  108 	mov	a,r4
   0032 F0                  109 	movx	@dptr,a
   0033 A3                  110 	inc	dptr
   0034 ED                  111 	mov	a,r5
   0035 F0                  112 	movx	@dptr,a
                            113 ;	_fs2int.c 81
   0036 90s00r04            114 	mov	dptr,#(___fs2int_fl1_1_1)
   0039 E0                  115 	movx	a,@dptr
   003A FA                  116 	mov	r2,a
   003B A3                  117 	inc	dptr
   003C E0                  118 	movx	a,@dptr
   003D FB                  119 	mov	r3,a
   003E A3                  120 	inc	dptr
   003F E0                  121 	movx	a,@dptr
   0040 FC                  122 	mov	r4,a
   0041 A3                  123 	inc	dptr
   0042 E0                  124 	movx	a,@dptr
   0043 FD                  125 	mov	r5,a
   0044 EA                  126 	mov	a,r2
   0045 4B                  127 	orl	a,r3
   0046 4C                  128 	orl	a,r4
   0047 4D                  129 	orl	a,r5
                            130 ; Peephole 109   removed ljmp by inverse jump logic
   0048 70 06               131 	jnz  00102$
   004A                     132 00120$:
                            133 ;	_fs2int.c 82
                            134 ; Peephole 181   used 16 bit load of dptr
   004A 90 00 00            135 	mov  dptr,#0x0000
   004D 02s01rE5            136 	ljmp	00110$
   0050                     137 00102$:
                            138 ;	_fs2int.c 84
   0050 90s00r04            139 	mov	dptr,#(___fs2int_fl1_1_1)
   0053 E0                  140 	movx	a,@dptr
   0054 FA                  141 	mov	r2,a
   0055 A3                  142 	inc	dptr
   0056 E0                  143 	movx	a,@dptr
   0057 FB                  144 	mov	r3,a
   0058 A3                  145 	inc	dptr
   0059 E0                  146 	movx	a,@dptr
   005A FC                  147 	mov	r4,a
   005B A3                  148 	inc	dptr
   005C E0                  149 	movx	a,@dptr
   005D FD                  150 	mov	r5,a
   005E 8C 02               151 	mov	ar2,r4
   0060 ED                  152 	mov	a,r5
   0061 A2 E7               153 	mov	c,acc.7
   0063 CA                  154 	xch	a,r2
   0064 33                  155 	rlc	a
   0065 CA                  156 	xch	a,r2
   0066 33                  157 	rlc	a
   0067 CA                  158 	xch	a,r2
   0068 54 01               159 	anl	a,#0x01
   006A 30 E0 02            160 	jnb	acc.0,00121$
   006D 44 FE               161 	orl	a,#0xfe
   006F                     162 00121$:
   006F FB                  163 	mov	r3,a
   0070 33                  164 	rlc	a
   0071 95 E0               165 	subb	a,acc
   0073 FC                  166 	mov	r4,a
   0074 FD                  167 	mov	r5,a
   0075 EA                  168 	mov	a,r2
   0076 75 F0 00            169 	mov	b,#0x00
   0079 24 6A               170 	add	a,#0x6a
   007B FA                  171 	mov	r2,a
   007C E5 F0               172 	mov	a,b
   007E 34 FF               173 	addc	a,#0xff
   0080 FB                  174 	mov	r3,a
   0081 90s00r08            175 	mov	dptr,#___fs2int_exp_1_1
   0084 EA                  176 	mov	a,r2
   0085 F0                  177 	movx	@dptr,a
   0086 A3                  178 	inc	dptr
   0087 EB                  179 	mov	a,r3
   0088 F0                  180 	movx	@dptr,a
                            181 ;	_fs2int.c 85
   0089 90s00r04            182 	mov	dptr,#(___fs2int_fl1_1_1)
   008C E0                  183 	movx	a,@dptr
   008D FA                  184 	mov	r2,a
   008E A3                  185 	inc	dptr
   008F E0                  186 	movx	a,@dptr
   0090 FB                  187 	mov	r3,a
   0091 A3                  188 	inc	dptr
   0092 E0                  189 	movx	a,@dptr
   0093 FE                  190 	mov	r6,a
   0094 A3                  191 	inc	dptr
   0095 E0                  192 	movx	a,@dptr
   0096 FF                  193 	mov	r7,a
   0097 53 06 7F            194 	anl	ar6,#0x7f
   009A 7F 00               195 	mov	r7,#0x00
   009C 90s00r0A            196 	mov	dptr,#___fs2int_l_1_1
   009F EA                  197 	mov	a,r2
   00A0 F0                  198 	movx	@dptr,a
   00A1 A3                  199 	inc	dptr
   00A2 EB                  200 	mov	a,r3
   00A3 F0                  201 	movx	@dptr,a
   00A4 74 80               202 	mov	a,#0x80
   00A6 4E                  203 	orl	a,r6
   00A7 A3                  204 	inc	dptr
   00A8 F0                  205 	movx	@dptr,a
   00A9 A3                  206 	inc	dptr
   00AA EF                  207 	mov	a,r7
   00AB F0                  208 	movx	@dptr,a
                            209 ;	_fs2int.c 87
   00AC 90s00r08            210 	mov	dptr,#___fs2int_exp_1_1
   00AF E0                  211 	movx	a,@dptr
   00B0 FA                  212 	mov	r2,a
   00B1 A3                  213 	inc	dptr
   00B2 E0                  214 	movx	a,@dptr
   00B3 FB                  215 	mov	r3,a
   00B4 C3                  216 	clr	c
                            217 ; Peephole 180   changed mov to clr
   00B5 E4                  218 	clr  a
   00B6 9A                  219 	subb	a,r2
                            220 ; Peephole 159   avoided xrl during execution
   00B7 74 80               221 	mov  a,#(0x00 ^ 0x80)
   00B9 8B F0               222 	mov	b,r3
   00BB 63 F0 80            223 	xrl	b,#0x80
   00BE 95 F0               224 	subb	a,b
                            225 ; Peephole 108   removed ljmp by inverse jump logic
   00C0 50 1F               226 	jnc  00104$
   00C2                     227 00122$:
                            228 ;	_fs2int.c 88
   00C2 90s00r04            229 	mov	dptr,#(___fs2int_fl1_1_1)
   00C5 E0                  230 	movx	a,@dptr
   00C6 FA                  231 	mov	r2,a
   00C7 A3                  232 	inc	dptr
   00C8 E0                  233 	movx	a,@dptr
   00C9 FB                  234 	mov	r3,a
   00CA A3                  235 	inc	dptr
   00CB E0                  236 	movx	a,@dptr
   00CC FE                  237 	mov	r6,a
   00CD A3                  238 	inc	dptr
   00CE E0                  239 	movx	a,@dptr
                            240 ; Peephole 105   removed redundant mov
   00CF FF                  241 	mov  r7,a
   00D0 23                  242 	rl	a
   00D1 54 01               243 	anl	a,#0x01
                            244 ; Peephole 140   removed redundant mov
   00D3 44 7F               245 	orl  a,#0x7f
   00D5 FA                  246 	mov  r2,a 
   00D6 33                  247 	rlc	a
   00D7 95 E0               248 	subb	a,acc
   00D9 F8                  249 	mov	r0,a
   00DA 8A 82               250 	mov	dpl,r2
   00DC 88 83               251 	mov	dph,r0
   00DE 02s01rE5            252 	ljmp	00110$
   00E1                     253 00104$:
                            254 ;	_fs2int.c 91
   00E1 90s00r08            255 	mov	dptr,#___fs2int_exp_1_1
   00E4 E0                  256 	movx	a,@dptr
   00E5 FA                  257 	mov	r2,a
   00E6 A3                  258 	inc	dptr
   00E7 E0                  259 	movx	a,@dptr
                            260 ; Peephole 105   removed redundant mov
   00E8 F8                  261 	mov  r0,a
   00E9 20 E7 03            262 	jb	acc.7,00123$
   00EC 02s01r84            263 	ljmp	00106$
   00EF                     264 00123$:
   00EF 90s00r08            265 	mov	dptr,#___fs2int_exp_1_1
   00F2 E0                  266 	movx	a,@dptr
   00F3 FA                  267 	mov	r2,a
   00F4 A3                  268 	inc	dptr
   00F5 E0                  269 	movx	a,@dptr
   00F6 F8                  270 	mov	r0,a
   00F7 C3                  271 	clr	c
   00F8 74 E7               272 	mov	a,#0xe7
   00FA 9A                  273 	subb	a,r2
                            274 ; Peephole 159   avoided xrl during execution
   00FB 74 7F               275 	mov  a,#(0xff ^ 0x80)
   00FD 88 F0               276 	mov	b,r0
   00FF 63 F0 80            277 	xrl	b,#0x80
   0102 95 F0               278 	subb	a,b
   0104 40 03               279 	jc	00124$
   0106 02s01r84            280 	ljmp	00106$
   0109                     281 00124$:
   0109 90s00r0A            282 	mov	dptr,#___fs2int_l_1_1
   010C E0                  283 	movx	a,@dptr
   010D F5*00               284 	mov	___fs2int_sloc0_1_0,a
   010F A3                  285 	inc	dptr
   0110 E0                  286 	movx	a,@dptr
   0111 F5*01               287 	mov	(___fs2int_sloc0_1_0 + 1),a
   0113 A3                  288 	inc	dptr
   0114 E0                  289 	movx	a,@dptr
   0115 F5*02               290 	mov	(___fs2int_sloc0_1_0 + 2),a
   0117 A3                  291 	inc	dptr
   0118 E0                  292 	movx	a,@dptr
   0119 F5*03               293 	mov	(___fs2int_sloc0_1_0 + 3),a
   011B E5*00               294 	mov	a,___fs2int_sloc0_1_0
   011D 45*01               295 	orl	a,(___fs2int_sloc0_1_0 + 1)
   011F 45*02               296 	orl	a,(___fs2int_sloc0_1_0 + 2)
   0121 45*03               297 	orl	a,(___fs2int_sloc0_1_0 + 3)
   0123 70 03               298 	jnz	00125$
   0125 02s01r84            299 	ljmp	00106$
   0128                     300 00125$:
                            301 ;	_fs2int.c 92
   0128 90s00r08            302 	mov	dptr,#___fs2int_exp_1_1
   012B E0                  303 	movx	a,@dptr
   012C FA                  304 	mov	r2,a
   012D A3                  305 	inc	dptr
   012E E0                  306 	movx	a,@dptr
   012F F8                  307 	mov	r0,a
   0130 C3                  308 	clr	c
   0131 E4                  309 	clr	a
   0132 9A                  310 	subb	a,r2
   0133 F5*00               311 	mov	___fs2int_sloc0_1_0,a
   0135 E4                  312 	clr	a
   0136 98                  313 	subb	a,r0
   0137 F5*01               314 	mov	(___fs2int_sloc0_1_0 + 1),a
   0139 90s00r0A            315 	mov	dptr,#___fs2int_l_1_1
   013C E0                  316 	movx	a,@dptr
   013D F5*04               317 	mov	___fs2int_sloc1_1_0,a
   013F A3                  318 	inc	dptr
   0140 E0                  319 	movx	a,@dptr
   0141 F5*05               320 	mov	(___fs2int_sloc1_1_0 + 1),a
   0143 A3                  321 	inc	dptr
   0144 E0                  322 	movx	a,@dptr
   0145 F5*06               323 	mov	(___fs2int_sloc1_1_0 + 2),a
   0147 A3                  324 	inc	dptr
   0148 E0                  325 	movx	a,@dptr
   0149 F5*07               326 	mov	(___fs2int_sloc1_1_0 + 3),a
   014B 85*00 F0            327 	mov	b,___fs2int_sloc0_1_0
   014E 05 F0               328 	inc	b
   0150 E5*07               329 	mov	a,(___fs2int_sloc1_1_0 + 3)
   0152 33                  330 	rlc	a
   0153 92 D2               331 	mov	ov,c
   0155 80 16               332 	sjmp	00127$
   0157                     333 00126$:
   0157 A2 D2               334 	mov	c,ov
   0159 E5*07               335 	mov	a,(___fs2int_sloc1_1_0 + 3)
   015B 13                  336 	rrc	a
   015C F5*07               337 	mov	(___fs2int_sloc1_1_0 + 3),a
   015E E5*06               338 	mov	a,(___fs2int_sloc1_1_0 + 2)
   0160 13                  339 	rrc	a
   0161 F5*06               340 	mov	(___fs2int_sloc1_1_0 + 2),a
   0163 E5*05               341 	mov	a,(___fs2int_sloc1_1_0 + 1)
   0165 13                  342 	rrc	a
   0166 F5*05               343 	mov	(___fs2int_sloc1_1_0 + 1),a
   0168 E5*04               344 	mov	a,___fs2int_sloc1_1_0
   016A 13                  345 	rrc	a
   016B F5*04               346 	mov	___fs2int_sloc1_1_0,a
   016D                     347 00127$:
   016D D5 F0 E7            348 	djnz	b,00126$
   0170 90s00r0A            349 	mov	dptr,#___fs2int_l_1_1
   0173 E5*04               350 	mov	a,___fs2int_sloc1_1_0
   0175 F0                  351 	movx	@dptr,a
   0176 A3                  352 	inc	dptr
   0177 E5*05               353 	mov	a,(___fs2int_sloc1_1_0 + 1)
   0179 F0                  354 	movx	@dptr,a
   017A A3                  355 	inc	dptr
   017B E5*06               356 	mov	a,(___fs2int_sloc1_1_0 + 2)
   017D F0                  357 	movx	@dptr,a
   017E A3                  358 	inc	dptr
   017F E5*07               359 	mov	a,(___fs2int_sloc1_1_0 + 3)
   0181 F0                  360 	movx	@dptr,a
                            361 ; Peephole 132   changed ljmp to sjmp
   0182 80 06               362 	sjmp 00107$
   0184                     363 00106$:
                            364 ;	_fs2int.c 94
                            365 ; Peephole 181   used 16 bit load of dptr
   0184 90 00 00            366 	mov  dptr,#0x0000
   0187 02s01rE5            367 	ljmp	00110$
   018A                     368 00107$:
                            369 ;	_fs2int.c 96
   018A 90s00r04            370 	mov	dptr,#(___fs2int_fl1_1_1)
   018D E0                  371 	movx	a,@dptr
   018E F5*04               372 	mov	___fs2int_sloc1_1_0,a
   0190 A3                  373 	inc	dptr
   0191 E0                  374 	movx	a,@dptr
   0192 F5*05               375 	mov	(___fs2int_sloc1_1_0 + 1),a
   0194 A3                  376 	inc	dptr
   0195 E0                  377 	movx	a,@dptr
   0196 F5*06               378 	mov	(___fs2int_sloc1_1_0 + 2),a
   0198 A3                  379 	inc	dptr
   0199 E0                  380 	movx	a,@dptr
                            381 ; Peephole 105   removed redundant mov
   019A F5*07               382 	mov  (___fs2int_sloc1_1_0 + 3),a
   019C 23                  383 	rl	a
   019D 54 01               384 	anl	a,#0x01
                            385 ; Peephole 105   removed redundant mov
   019F FA                  386 	mov  r2,a
                            387 ; Peephole 110   removed ljmp by inverse jump logic
   01A0 60 29               388 	jz  00112$
   01A2                     389 00128$:
   01A2 90s00r0A            390 	mov	dptr,#___fs2int_l_1_1
   01A5 E0                  391 	movx	a,@dptr
   01A6 F5*04               392 	mov	___fs2int_sloc1_1_0,a
   01A8 A3                  393 	inc	dptr
   01A9 E0                  394 	movx	a,@dptr
   01AA F5*05               395 	mov	(___fs2int_sloc1_1_0 + 1),a
   01AC A3                  396 	inc	dptr
   01AD E0                  397 	movx	a,@dptr
   01AE F5*06               398 	mov	(___fs2int_sloc1_1_0 + 2),a
   01B0 A3                  399 	inc	dptr
   01B1 E0                  400 	movx	a,@dptr
   01B2 F5*07               401 	mov	(___fs2int_sloc1_1_0 + 3),a
   01B4 C3                  402 	clr	c
   01B5 E4                  403 	clr	a
   01B6 95*04               404 	subb	a,___fs2int_sloc1_1_0
   01B8 F5*04               405 	mov	___fs2int_sloc1_1_0,a
   01BA E4                  406 	clr	a
   01BB 95*05               407 	subb	a,(___fs2int_sloc1_1_0 + 1)
   01BD F5*05               408 	mov	(___fs2int_sloc1_1_0 + 1),a
   01BF E4                  409 	clr	a
   01C0 95*06               410 	subb	a,(___fs2int_sloc1_1_0 + 2)
   01C2 F5*06               411 	mov	(___fs2int_sloc1_1_0 + 2),a
   01C4 E4                  412 	clr	a
   01C5 95*07               413 	subb	a,(___fs2int_sloc1_1_0 + 3)
   01C7 F5*07               414 	mov	(___fs2int_sloc1_1_0 + 3),a
                            415 ; Peephole 132   changed ljmp to sjmp
   01C9 80 12               416 	sjmp 00113$
   01CB                     417 00112$:
   01CB 90s00r0A            418 	mov	dptr,#___fs2int_l_1_1
   01CE E0                  419 	movx	a,@dptr
   01CF F5*04               420 	mov	___fs2int_sloc1_1_0,a
   01D1 A3                  421 	inc	dptr
   01D2 E0                  422 	movx	a,@dptr
   01D3 F5*05               423 	mov	(___fs2int_sloc1_1_0 + 1),a
   01D5 A3                  424 	inc	dptr
   01D6 E0                  425 	movx	a,@dptr
   01D7 F5*06               426 	mov	(___fs2int_sloc1_1_0 + 2),a
   01D9 A3                  427 	inc	dptr
   01DA E0                  428 	movx	a,@dptr
   01DB F5*07               429 	mov	(___fs2int_sloc1_1_0 + 3),a
   01DD                     430 00113$:
   01DD AA*04               431 	mov	r2,___fs2int_sloc1_1_0
   01DF A8*05               432 	mov	r0,(___fs2int_sloc1_1_0 + 1)
   01E1 8A 82               433 	mov	dpl,r2
   01E3 88 83               434 	mov	dph,r0
   01E5                     435 00110$:
                    01E5    436 	C$_fs2int.c$97$1$1 ==.
                    01E5    437 	XG$__fs2int$0$0 ==.
   01E5 22                  438 	ret
                            439 	.area	CSEG    (CODE)
